<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Location History</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body { display: flex; flex-direction: column; height: 100vh; margin: 0; }
        .header { padding: 10px; border-bottom: 1px solid #ccc; display: flex; align-items: center; }
        .header h1 { margin: 0; font-size: 1.5em; flex-grow: 1; }
        .header a { margin-left: 15px; text-decoration: none; color: #007bff; }
        .main-content { display: flex; flex: 1; overflow: hidden; }
        #map { flex-grow: 1; height: 100%; }
        .sidebar { width: 300px; border-left: 1px solid #ccc; display: flex; flex-direction: column; overflow-y: auto; padding: 10px; }
        .legend-item { display: flex; align-items: center; margin-bottom: 5px; cursor: pointer; padding: 4px; border-radius: 3px; }
        .legend-item:hover { background-color: #eee; }
        .legend-item.selected { background-color: #d0e3ff; }
        .legend-color { width: 18px; height: 18px; border-radius: 50%; margin-right: 8px; border: 1px solid #555; }
        .loading-indicator { font-style: italic; color: #666; font-size: 0.9em; margin-left: auto; }
    </style>
</head>
<body>
    <div class="main-content">
        <div id="map"></div>
        <div class="sidebar">
            <h3>Select Players</h3>
            <p style="font-size: 0.9em; color: #666;">Click to toggle history view.</p>
            <div id="legend-items">Loading players...</div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="/js/history.js?v={{.AppVersion}}"></script>
</body>
</html>